(this["webpackJsonpreact-link-preview"]=this["webpackJsonpreact-link-preview"]||[]).push([[0],{21:function(e,t,n){},39:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(31),a=n.n(i),r=(n(39),n(9)),l=n(10),d=n(2),o=(n(40),n(21),n(17)),u=n(0);var j=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),a=Object(o.a)(i,2),r=a[0],d=a[1],j=Object(c.useState)([]),b=Object(o.a)(j,2),h=b[0],O=b[1];return Object(c.useEffect)((function(){fetch("https://retoolapi.dev/mka0wj/linkdata").then((function(e){return e.json()})).then((function(e){d(!0),O(e)}),(function(e){d(!0),s(e)}))}),[]),n?Object(u.jsxs)("div",{children:["Error: ",n.message]}):r?Object(u.jsx)("section",{className:"App-wrap",children:Object(u.jsx)("ul",{className:"App-ul",children:h.map((function(e){return Object(u.jsxs)("li",{className:"App-li",children:[Object(u.jsxs)("div",{className:"App-li-span",children:[Object(u.jsxs)("span",{children:[e.id,") "]}),e.desc,": ",e.url]}),Object(u.jsx)("div",{className:"App-content",children:Object(u.jsx)("i",{children:"preview here"})}),Object(u.jsx)("small",{children:Object(u.jsx)(l.b,{style:{color:"#ccc"},to:{pathname:"/edit/".concat(e.id),state:{id:e.id,url:e.url,desc:e.desc}},children:"Edit"})})]},e.id)}))})}):Object(u.jsx)("div",{className:"App-loading",children:"Loading..."})},b=n(12),h=n(13),O=n(7),p=n(16),x=n(15),k=n(34),v=n.n(k).a.create({baseURL:"https://retoolapi.dev/mka0wj","Access-Control-Allow-Origin":"*",headers:{"Content-type":"application/json"}}),m=new(function(){function e(){Object(b.a)(this,e)}return Object(h.a)(e,[{key:"getAll",value:function(){return v.get("/linkdata")}},{key:"get",value:function(e){return v.get("/linkdata/".concat(e))}},{key:"create",value:function(e){return v.post("/linkdata",e)}},{key:"update",value:function(e,t){return v.put("/linkdata/".concat(e),t)}},{key:"delete",value:function(e){return v.delete("/linkdata/".concat(e))}},{key:"findByUrl",value:function(e){return v.get("/linkdata?url=".concat(e))}}]),e}()),f=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var c;return Object(b.a)(this,n),(c=t.call(this,e)).onChangeUrl=c.onChangeUrl.bind(Object(O.a)(c)),c.onChangeDesc=c.onChangeDesc.bind(Object(O.a)(c)),c.saveLink=c.saveLink.bind(Object(O.a)(c)),c.newLink=c.newLink.bind(Object(O.a)(c)),c.state={id:null,url:"",desc:"",submitted:!1},c}return Object(h.a)(n,[{key:"onChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"onChangeDesc",value:function(e){this.setState({desc:e.target.value})}},{key:"saveLink",value:function(){var e=this,t={url:this.state.url,desc:this.state.desc};m.create(t).then((function(t){e.setState({id:t.data.id,url:t.data.url,desc:t.data.desc,submitted:!0})})).catch((function(e){console.log("LinkService.create error: ",e)}))}},{key:"newLink",value:function(){this.setState({id:null,url:"",desc:"",submitted:!1})}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{children:"You have submitted successfully!"}),Object(u.jsx)("button",{className:"btn btn-success",onClick:this.newLink,children:"Add Another"})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{style:{marginTop:15},children:"Add Link"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"title",children:"URL"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.url,onChange:this.onChangeUrl,name:"title"})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"description",children:"Desc"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.desc,onChange:this.onChangeDesc,name:"description"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:this.saveLink,className:"btn btn-success",disabled:""===this.state.url||""===this.state.desc,children:"Submit"})]})})}}]),n}(c.Component),g=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(e){var c;if(Object(b.a)(this,n),(c=t.call(this,e)).onChangeUrl=c.onChangeUrl.bind(Object(O.a)(c)),c.onChangeDesc=c.onChangeDesc.bind(Object(O.a)(c)),c.getLink=c.getLink.bind(Object(O.a)(c)),c.updateLink=c.updateLink.bind(Object(O.a)(c)),c.deleteLink=c.deleteLink.bind(Object(O.a)(c)),e.location.state.id){var s=c.props.location.state,i=s.id,a=s.url,r=s.desc;c.state={currentLink:{id:i,url:a,desc:r},message:""}}else c.state={currentLink:{id:null,url:"",desc:""},message:""};return c}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getLink(this.props.match.params.id)}},{key:"onChangeUrl",value:function(e){var t=e.target.value;this.setState((function(e){return{currentLink:Object(r.a)(Object(r.a)({},e.currentLink),{},{url:t})}}))}},{key:"onChangeDesc",value:function(e){var t=e.target.value;this.setState((function(e){return{currentLink:Object(r.a)(Object(r.a)({},e.currentLink),{},{desc:t})}}))}},{key:"getLink",value:function(e){var t=this;m.get(e).then((function(e){t.setState({currentLink:e.data})})).catch((function(e){console.log("EditLink getLink error: ",e)}))}},{key:"updateLink",value:function(){var e=this;m.update(this.state.currentLink.id,this.state.currentLink).then((function(t){e.setState({message:"The link was updated successfully!"})})).catch((function(e){console.log("EditLink updateLink response: ",e)}))}},{key:"deleteLink",value:function(){var e=this;if(!1===confirm("Are you sure you want to delete this link?"))return!1;m.delete(this.state.currentLink.id).then((function(t){e.props.history.push("/")})).catch((function(e){console.log("EditLink deleteLink response: ",e)}))}},{key:"render",value:function(){var e=this.state.currentLink;return Object(u.jsx)("div",{children:e?Object(u.jsxs)("div",{className:"edit-form",children:[Object(u.jsx)("h4",{style:{marginTop:15},children:"Edit Link"}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{style:{fontSize:"10px"},children:Object(u.jsxs)("i",{children:["Editing: ",e.id]})}),Object(u.jsx)("label",{htmlFor:"url",children:"URL"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"url",value:e.url,onChange:this.onChangeUrl})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"desc",children:"Desc"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"desc",value:e.desc,onChange:this.onChangeDesc})]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteLink,style:{marginRight:15,backgroundColor:"#282c34"},children:"Delete"}),Object(u.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateLink,style:{marginRight:15,backgroundColor:"#282c34"},disabled:""===this.state.url||""===this.state.desc,children:"Update"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:this.state.message})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"Please click Edit on a Link in Previews..."})]})})}}]),n}(c.Component);var L=function(){return Object(u.jsxs)("div",{class:"App-container",children:[Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(l.b,{style:{fontSize:"12px",color:"black"},to:"/previews",children:"ReactJS Link Preview Demo"})]})};var y=function(){return Object(u.jsxs)(l.a,{children:[Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"App-header-ul",children:[Object(u.jsx)("li",{className:"App-header-li",children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"active",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"App-header-li",children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"active",to:"/previews",children:"Previews"})}),Object(u.jsx)("li",{className:"App-header-li",children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"active",to:"/add",children:"Add Link"})})]})})})}),Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",render:function(e){return Object(u.jsx)(L,Object(r.a)({},e))}}),Object(u.jsx)(d.a,{exact:!0,path:"/previews",render:function(e){return Object(u.jsx)(j,Object(r.a)({},e))}}),Object(u.jsx)(d.a,{exact:!0,path:"/add",render:function(e){return Object(u.jsx)(f,Object(r.a)({},e))}}),Object(u.jsx)(d.a,{exact:!0,path:"/edit/:id",render:function(e){return Object(u.jsx)(g,Object(r.a)({},e))}})]})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root")),C()}},[[65,1,2]]]);
//# sourceMappingURL=main.8964e395.chunk.js.map